(window.webpackJsonp=window.webpackJsonp||[]).push([[77],{371:function(a,v,t){"use strict";t.r(v);var s=t(42),_=Object(s.a)({},(function(){var a=this,v=a.$createElement,t=a._self._c||v;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"第四章-正则表达式回溯法原理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#第四章-正则表达式回溯法原理"}},[a._v("#")]),a._v(" 第四章 正则表达式回溯法原理")]),a._v(" "),t("p",[a._v("回溯也称为试探法，本质上就是深度优先搜索算法，其中退到之前的某一步这一过程，称为”回溯“。")]),a._v(" "),t("ul",[t("li",[a._v("一、没有回溯的匹配")]),a._v(" "),t("li",[a._v("二、有回溯的匹配")]),a._v(" "),t("li",[a._v("三、常见的回溯形式")])]),a._v(" "),t("h2",{attrs:{id:"一、没有回溯的匹配"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一、没有回溯的匹配"}},[a._v("#")]),a._v(" 一、没有回溯的匹配")]),a._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token regex"}},[a._v("/ab{1,3}c/")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// b{1,3}表示 b 字符连续出现 1 到 3 次")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 匹配 abbbc 的时候就没有回溯")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br")])]),t("p",[t("img",{attrs:{src:"/images/regex-%E5%9B%9E%E6%BA%AF1.png",alt:"没有回溯的匹配"}})]),a._v(" "),t("h2",{attrs:{id:"二、有回溯的匹配"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#二、有回溯的匹配"}},[a._v("#")]),a._v(" 二、有回溯的匹配")]),a._v(" "),t("h5",{attrs:{id:"案例一"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#案例一"}},[a._v("#")]),a._v(" 案例一")]),a._v(" "),t("p",[a._v("如果继续使用 "),t("code",[a._v("/ab{1,3}c/")]),a._v("，将上面案例中的 "),t("code",[a._v("abbbc")]),a._v(" 改成 "),t("code",[a._v("abbc")]),a._v(" 中间就有回溯了，具体回溯过程如下图所示：\n"),t("img",{attrs:{src:"/images/regex-%E5%9B%9E%E6%BA%AF2.png",alt:"有回溯的正则"}})]),a._v(" "),t("ol",[t("li",[a._v("正则从首位开始匹配字符串")]),a._v(" "),t("li",[a._v("正则中的 a 匹字符串中的 a")]),a._v(" "),t("li",[a._v("正则中的 b{1,3} 匹配字符串中的第一个 b")]),a._v(" "),t("li",[a._v("正则中的 b{1,3} 匹配字符串中的第二个 b")]),a._v(" "),t("li",[a._v("正则中的 b{1,3} 匹配字符串中的 c 时，不匹配，这里就产生"),t("strong",[a._v("回溯")])]),a._v(" "),t("li",[a._v("这时就认为 b{1,3} 已经匹配完毕，然后状态回到之前的状态，即第 4 步")]),a._v(" "),t("li",[a._v("最后用正则中的 c 匹配字符串中的 c，这时整个表达式匹配成功了。")])]),a._v(" "),t("h5",{attrs:{id:"案例二"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#案例二"}},[a._v("#")]),a._v(" 案例二")]),a._v(" "),t("p",[a._v("接下来把上例的正则改一下，"),t("code",[a._v("/ab{1,3}bbc/")]),a._v(" 匹配 abbbc，匹配的过程如下：\n"),t("img",{attrs:{src:"/images/regex-%E5%9B%9E%E6%BA%AF3.png",alt:"有回溯的正则2"}})]),a._v(" "),t("ol",[t("li",[a._v("正则从首位开始匹配字符串")]),a._v(" "),t("li",[a._v("正则中的 a 匹字符串中的 a")]),a._v(" "),t("li",[a._v("正则中的 b{1,3} 匹配字符串中的第一个 b")]),a._v(" "),t("li",[a._v("正则中的 b{1,3} 匹配字符串中的第二个 b")]),a._v(" "),t("li",[a._v("正则中的 b{1,3} 匹配字符串中的第三个 b")]),a._v(" "),t("li",[a._v("正则中的 b{1,3} 后面的 b 匹配字符串中的 c 时，不匹配")]),a._v(" "),t("li",[a._v("这里进行回溯，回到第 4 步")]),a._v(" "),t("li",[a._v("正则中的 b{1,3} 后面的第一个 b 匹配字符串中第三个 b")]),a._v(" "),t("li",[a._v("正则中的 b{1,3} 后面的第二个 b 匹配字符串中的 c 时，不匹配")]),a._v(" "),t("li",[a._v("这里进行回溯，回到第 3 步")]),a._v(" "),t("li",[a._v("正则中的 b{1,3} 后面的第一个 b 匹配字符串中的第二个 b")]),a._v(" "),t("li",[a._v("正则中的 b{1,3} 后面的第二个 b 匹配字符串中的第三个 b")]),a._v(" "),t("li",[a._v("正则中的 b{1,3} 后面的 c 匹配字符串中的 c，这时整个表达式匹配成功了。")])]),a._v(" "),t("h5",{attrs:{id:"案例三"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#案例三"}},[a._v("#")]),a._v(" 案例三")]),a._v(" "),t("p",[a._v("正则中的 "),t("code",[a._v(".*")]),a._v(" 是非常影响效率的，接下来利用 "),t("code",[a._v('/".*"/')]),a._v(' 来匹配 "abc"de 分析一下过程\n'),t("img",{attrs:{src:"/images/regex-%E5%9B%9E%E6%BA%AF4.png",alt:"有回溯的正则3"}})]),a._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[a._v("TIP")]),a._v(" "),t("p",[a._v("上面的正则改成 "),t("code",[a._v('/"[^"]"/')]),a._v(" 就会避免不必要的回溯。")])]),a._v(" "),t("h2",{attrs:{id:"三、常见的回溯形式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#三、常见的回溯形式"}},[a._v("#")]),a._v(" 三、常见的回溯形式")])])}),[],!1,null,null,null);v.default=_.exports}}]);