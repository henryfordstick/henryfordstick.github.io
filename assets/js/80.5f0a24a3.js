(window.webpackJsonp=window.webpackJsonp||[]).push([[80],{381:function(_,v,d){"use strict";d.r(v);var e=d(42),c=Object(e.a)({},(function(){var _=this,v=_.$createElement,d=_._self._c||v;return d("ContentSlotsDistributor",{attrs:{"slot-key":_.$parent.slotKey}},[d("h1",{attrs:{id:"第五章-正则表达式的拆分"}},[d("a",{staticClass:"header-anchor",attrs:{href:"#第五章-正则表达式的拆分"}},[_._v("#")]),_._v(" 第五章 正则表达式的拆分")]),_._v(" "),d("p",[_._v("对于正则，不仅自己能解决问题，还要看懂别人的解决方案，所以如何能把一大串正则拆分成一块一块的，成为了破解”天书“的关键。")]),_._v(" "),d("ul",[d("li",[_._v("一、结构和操作符")]),_._v(" "),d("li",[_._v("二、注意要点")])]),_._v(" "),d("h2",{attrs:{id:"一、结构和操作符"}},[d("a",{staticClass:"header-anchor",attrs:{href:"#一、结构和操作符"}},[_._v("#")]),_._v(" 一、结构和操作符")]),_._v(" "),d("p",[_._v("编程语言一般都有操作符，有操作符就要有优先级，那么正则的优先级是怎么样的？")]),_._v(" "),d("h4",{attrs:{id:"_1、正则中的结构"}},[d("a",{staticClass:"header-anchor",attrs:{href:"#_1、正则中的结构"}},[_._v("#")]),_._v(" 1、正则中的结构")]),_._v(" "),d("p",[_._v("字符字面量，字符组，量词， 锚，分组，选择分支，反向引用")]),_._v(" "),d("table",[d("thead",[d("tr",[d("th",[_._v("结构")]),_._v(" "),d("th",[_._v("说明")])])]),_._v(" "),d("tbody",[d("tr",[d("td",[_._v("字面量")]),_._v(" "),d("td",[_._v("匹配一个具体字符，包括不用转义的和需要转义的。比如 "),d("code",[_._v("a")]),_._v(' 匹配字符 "a"， 又比如 '),d("code",[_._v("\\n")]),_._v(" 匹配换行符，又比如 "),d("code",[_._v("\\.")]),_._v(" 匹配小数点。")])]),_._v(" "),d("tr",[d("td",[_._v("字符组")]),_._v(" "),d("td",[_._v("匹配一个字符，可以是多种可能之一，比如 "),d("code",[_._v("[0-9]")]),_._v("，表示匹配一个数字。"),d("br"),_._v("也有 "),d("code",[_._v("\\d")]),_._v(" 的简写形式。"),d("br"),_._v("另外还有反义字符组，表示可以是除了特定字符之外任何一个字符，比如 "),d("code",[_._v("[^0-9]")]),_._v("， 表示一个非数字字符，也有 "),d("code",[_._v("\\D")]),_._v(" 的简写形式。")])]),_._v(" "),d("tr",[d("td",[_._v("量词")]),_._v(" "),d("td",[_._v("表示一个字符连续出现，比如 "),d("code",[_._v("a{1,3}")]),_._v(' 表示 "a" 字符连续出现 '),d("code",[_._v("3")]),_._v(" 次。"),d("br"),_._v("另外还有常见的简写形式，比如 "),d("code",[_._v("a+")]),_._v(' 表示 "a" 字符连续出现至少一次。')])]),_._v(" "),d("tr",[d("td",[_._v("锚")]),_._v(" "),d("td",[_._v("匹配一个位置，而不是字符。比如 "),d("code",[_._v("^")]),_._v(" 匹配字符串的开头，又比如 "),d("code",[_._v("\\b")]),_._v(" 匹配单词边界， 又比如 "),d("code",[_._v("(?=\\d)")]),_._v(" 表示数字前面的位置。")])]),_._v(" "),d("tr",[d("td",[_._v("分组")]),_._v(" "),d("td",[_._v("用括号表示一个整体，比如 "),d("code",[_._v("(ab)+")]),_._v('，表示 "ab" 两个字符连续出现多次，也可以使用非捕获分组 '),d("code",[_._v("(?:ab)+")]),_._v("。")])]),_._v(" "),d("tr",[d("td",[_._v("分支")]),_._v(" "),d("td",[_._v("多个子表达式多选一，比如 "),d("code",[_._v("abc|bcd")]),_._v('，表达式匹配 "abc" 或者 "bcd" 字符子串。')])]),_._v(" "),d("tr",[d("td",[_._v("反向"),d("br"),_._v("引用")]),_._v(" "),d("td",[_._v("比如 "),d("code",[_._v("\\2")]),_._v("，表示引用第 "),d("code",[_._v("2")]),_._v(" 个分组。")])])])]),_._v(" "),d("h4",{attrs:{id:"_2、正则中的操作符"}},[d("a",{staticClass:"header-anchor",attrs:{href:"#_2、正则中的操作符"}},[_._v("#")]),_._v(" 2、正则中的操作符")]),_._v(" "),d("p",[_._v("转义符，括号和方括号，量词限定符，位置和序列，管道符")]),_._v(" "),d("table",[d("thead",[d("tr",[d("th",[_._v("操作符描述")]),_._v(" "),d("th",[_._v("操作符")]),_._v(" "),d("th",[_._v("优先级")])])]),_._v(" "),d("tbody",[d("tr",[d("td",[_._v("转义符")]),_._v(" "),d("td",[d("code",[_._v("\\")])]),_._v(" "),d("td",[_._v("1")])]),_._v(" "),d("tr",[d("td",[_._v("括号和方括号")]),_._v(" "),d("td",[d("code",[_._v("(...)")]),_._v(","),d("code",[_._v("(?:...)")]),_._v(","),d("code",[_._v("(?=...)")]),_._v(","),d("code",[_._v("(?!...)")]),_._v(","),d("code",[_._v("[...]")])]),_._v(" "),d("td",[_._v("2")])]),_._v(" "),d("tr",[d("td",[_._v("量词限定符")]),_._v(" "),d("td",[d("code",[_._v("{m}")]),_._v(","),d("code",[_._v("{m,n}")]),_._v(","),d("code",[_._v("?")]),_._v(","),d("code",[_._v("*")]),_._v(","),d("code",[_._v("+")])]),_._v(" "),d("td",[_._v("3")])]),_._v(" "),d("tr",[d("td",[_._v("位置和序列")]),_._v(" "),d("td",[d("code",[_._v("^")]),_._v(","),d("code",[_._v("$")]),_._v(","),d("code",[_._v("\\元字符")]),_._v("，"),d("code",[_._v("一般字符")])]),_._v(" "),d("td",[_._v("4")])]),_._v(" "),d("tr",[d("td",[_._v("管道符（竖杠）")]),_._v(" "),d("td",[d("code",[_._v("|")])]),_._v(" "),d("td",[_._v("5")])])])]),_._v(" "),d("p",[_._v("上面操作符的优先级从上至下，由高到低。")]),_._v(" "),d("h4",{attrs:{id:"_3、分析正则"}},[d("a",{staticClass:"header-anchor",attrs:{href:"#_3、分析正则"}},[_._v("#")]),_._v(" 3、分析正则")]),_._v(" "),d("p",[d("code",[_._v("/ab?(c|de*)+|fg/")])]),_._v(" "),d("ol",[d("li",[_._v("由于有括号，所以"),d("code",[_._v("(c|de*)")]),_._v(" 是一个整体")]),_._v(" "),d("li",[d("code",[_._v("(c|de*)")]),_._v(" 中有量词，管道符，所以 "),d("code",[_._v("c")]),_._v(" 是一个整体，"),d("code",[_._v("de*")]),_._v("是一个整体")]),_._v(" "),d("li",[_._v("所以最终上面的正则可以分为 "),d("code",[_._v("a")]),_._v("、 "),d("code",[_._v("b?")]),_._v("、"),d("code",[_._v("(...)+")]),_._v("、"),d("code",[_._v("f")]),_._v("、"),d("code",[_._v("g")])]),_._v(" "),d("li",[_._v("也可以分为 "),d("code",[_._v("ab?(c|de*)+")]),_._v(" 和 "),d("code",[_._v("fg")]),_._v(" 两部分")])]),_._v(" "),d("h2",{attrs:{id:"二、注意要点"}},[d("a",{staticClass:"header-anchor",attrs:{href:"#二、注意要点"}},[_._v("#")]),_._v(" 二、注意要点")]),_._v(" "),d("h4",{attrs:{id:"_1、匹配字符串整体问题"}},[d("a",{staticClass:"header-anchor",attrs:{href:"#_1、匹配字符串整体问题"}},[_._v("#")]),_._v(" 1、匹配字符串整体问题")]),_._v(" "),d("p",[_._v("我们经常会在正则前后加上 "),d("code",[_._v("^")]),_._v(" 和 "),d("code",[_._v("$")]),_._v(",比如匹配目标字符串 abc 或 bcd，不小心会写成 "),d("code",[_._v("/^abc|bcd$/")])]),_._v(" "),d("p",[_._v("而 位置字符 和 字符序列 优先级比竖杠高，就会导致正则错误。正确写法应该为 "),d("code",[_._v("/^(abc|bcd)$/")])]),_._v(" "),d("h4",{attrs:{id:"_2、量词连缀问题"}},[d("a",{staticClass:"header-anchor",attrs:{href:"#_2、量词连缀问题"}},[_._v("#")]),_._v(" 2、量词连缀问题")]),_._v(" "),d("p",[_._v("假如需要匹配这样的字符串：")]),_._v(" "),d("ol",[d("li",[_._v("每个字符串为 a、b、c 任选其一")]),_._v(" "),d("li",[_._v("字符串的长度是3的倍数")])]),_._v(" "),d("p",[_._v("那么就会不小心写成 "),d("code",[_._v("/^[abc]{3}+$/")])]),_._v(" "),d("p",[_._v("这样就会报错，说 "),d("code",[_._v("+")]),_._v(" 前面没有什么可重复的，正确的要改成 "),d("code",[_._v("/^([abc]{3})+$/")])]),_._v(" "),d("h4",{attrs:{id:"_3、元字符转义问题"}},[d("a",{staticClass:"header-anchor",attrs:{href:"#_3、元字符转义问题"}},[_._v("#")]),_._v(" 3、元字符转义问题")]),_._v(" "),d("p",[_._v("所谓"),d("strong",[_._v("元字符")]),_._v("，就是正则中有特殊含义的字符。即")]),_._v(" "),d("p",[d("code",[_._v("^")]),_._v("、"),d("code",[_._v("$")]),_._v("、"),d("code",[_._v(".")]),_._v("、"),d("code",[_._v("*")]),_._v("、"),d("code",[_._v("+")]),_._v("、"),d("code",[_._v("?")]),_._v("、"),d("code",[_._v("|")]),_._v("、"),d("code",[_._v("\\")]),_._v("、"),d("code",[_._v("/")]),_._v("、"),d("code",[_._v("(")]),_._v("、"),d("code",[_._v(")")]),_._v("、"),d("code",[_._v("[")]),_._v("、"),d("code",[_._v("]")]),_._v("、"),d("code",[_._v("{")]),_._v("、"),d("code",[_._v("}")]),_._v("、"),d("code",[_._v("=")]),_._v("、"),d("code",[_._v("!")]),_._v("、"),d("code",[_._v(":")]),_._v("、"),d("code",[_._v("-")]),_._v("、"),d("code",[_._v(",")]),_._v(" 当匹配本身的时候可以一律用 "),d("code",[_._v("\\")]),_._v(" 转义，字符串中的"),d("code",[_._v("\\")]),_._v(" 也要转义成 "),d("code",[_._v("\\\\")]),_._v("。")]),_._v(" "),d("p",[_._v("在"),d("strong",[_._v("字符组中有些就不需要转义")]),_._v("，除了 "),d("code",[_._v("[")]),_._v("、"),d("code",[_._v("]")]),_._v("、"),d("code",[_._v("^")]),_._v("、"),d("code",[_._v("-")]),_._v(" 必须转义")]),_._v(" "),d("p",[_._v('匹配字符串 "[abc]" 和 "{3,5}" 时，"[abc]"写成 '),d("code",[_._v("/\\[abc\\]/")]),_._v("。也可以写成 "),d("code",[_._v("/\\[abc]/")]),_._v('，后面的方括号不构成字符组，不会引发歧义。同理 "{3,5}" 可以写成 '),d("code",[_._v("/\\{3,5}/")]),_._v("。量词的简写形式有 "),d("code",[_._v("{m,}")]),_._v("，却没有"),d("code",[_._v("{,n}")]),_._v('的情况，所有匹配字符串 "{,n}" 的时候写成 '),d("code",[_._v("/{,3}/g")]),_._v(" 也可以。")]),_._v(" "),d("p",[_._v("总结下来："),d("br")]),_._v(" "),d("ul",[d("li",[_._v("如"),d("code",[_._v("=")]),_._v("、"),d("code",[_._v("!")]),_._v("、"),d("code",[_._v(":")]),_._v("、"),d("code",[_._v("-")]),_._v("、"),d("code",[_._v(",")]),_._v(" 等符号，只要不在特殊结构中，并不需要转义")]),_._v(" "),d("li",[_._v("括号是需要前后都转义的，如 "),d("code",[_._v("/\\(123\\)/")])]),_._v(" "),d("li",[d("code",[_._v("^")]),_._v("、"),d("code",[_._v("$")]),_._v("、"),d("code",[_._v(".")]),_._v("、"),d("code",[_._v("*")]),_._v("、"),d("code",[_._v("+")]),_._v("、"),d("code",[_._v("?")]),_._v("、"),d("code",[_._v("|")]),_._v("、"),d("code",[_._v("\\")]),_._v("、"),d("code",[_._v("/")]),_._v("等字符，只要不在字符组内，都需要转义的")])]),_._v(" "),d("p",[_._v("如果不确定与否，尽管去转义，总之是不会错。")])])}),[],!1,null,null,null);v.default=c.exports}}]);